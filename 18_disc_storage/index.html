<!DOCTYPE HTML>

<html>

<head>
	<title>Disc Search</title>
	<link rel="stylesheet" href="../rayStyle.css" type="text/css">
	<link rel="stylesheet" href="noThickness.css" type="text/css">
	<link rel="icon" type="image/png" href="../icon.png">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>


<body id="Body">

	<table id="Table" border="0" align="center">
		<tr>
			<td align="left" onclick="switchScanner()">
		        <a id="textScannerStatus">Camera ON/OFF</a>
			</td>
			<td align="right">
		        <input id="searchBar" type="text" placeholder="Search by Title" onfocus="switchScanner(false)" onchange="updateSearchResult()">
			</td>
		</tr>
		<tr>
			<td align="left" colspan="2">
		        <video  id="cameraMedia" controls autoplay playsinline opacity="0" style="display:none;"></video>
		        <input type="file" id="folder" style="display:none;">
		        <canvas id="displayCanvas" style="display:inline"></canvas>
			</td>
		</tr>
		<tr>
			<td align="left" class="untouchable" width="50%" border-left="1">
				<u><p id="textRightColumn">Visible</p></u>
			</td>
			<td align="left" class="untouchable" width="50%" border-right="1">
				<u><p id="textLeftColumn">All</p></u>
			</td>
		</tr>

		<tr>
			<td align="left" colspan="2">
		        <video  id="player" controls autoplay playsinline width="1" height="1" opacity="0" style="display:none;"></video>
				</br><canvas id="Canvas"></canvas>
			</td>
		</tr>
		<tr>
			<td align="center" class="untouchable" colspan="2">
		        <a id="leftArrow"  style="display:none;margin:0;text-align:right;vertical-align: middle;" onclick="{slider.value--;draw();}">◄</a>
		        <input class="slider" type="range" min="0" max="0" value="0" id="slider" onchange="draw()" oninput="draw()" style="display:none;margin:0">
		        <a id="rightArrow" style="display:none;margin:0;text-align:left; vertical-align: middle;" onclick="{slider.value++;draw();}">►</a>
			</td>
		</tr>
		<tr>
			<td align="center" valign="middle" colspan="2">
				<canvas id="RCanvas" style="display:none"></canvas>
			</td>
		</tr>
	</table>
	<script type="text/javascript" src="inputManager.js"></script>
	<script type="text/javascript" src="canvas.js"></script>
	<script type="text/javascript" src="board.js"></script>
	<script type="text/javascript" src="sudoku.js"></script>
	<script type="text/javascript" src="quickSolver.js"></script>
	<script type="text/javascript" src="board_reader.js"></script>
	<script type="text/javascript" src="number_reader.js"></script>
	<script type="text/javascript" src="scanner.js"></script>
	<script type="text/javascript" src="phase.js"></script>
	<script type="text/javascript" src="functions/TrigScript.js"></script>
	<script type="text/javascript" src="functions/DataScript.js"></script>
	<script type="text/javascript" src="functions/StatScript.js"></script>
	<script type="text/javascript" src="functions/EyesScript.js"></script>
	<script type="text/javascript" src="../00_JavaScripts/opacityController.js"></script>
	<script type="text/javascript">
	<!--
		//Opacity Control
		const table  = document.getElementById('Table' );
		const body   = document.getElementById('Body'  );
		showObject(body, table);

		//Prepare textColums
		const rightTitle = document.getElementById("textRightColumn");
		const leftTitle  = document.getElementById("textLeftColumn");

		//Prepare displayCanvas
		const displayCanvas = new Canvas(document.getElementById("displayCanvas"));

		//Prepare scanner
		const discScanner = new DiscScanner(document.getElementById("cameraMedia"),displayCanvas);

		//Scanner Status
		const textScannerStatus	= document.getElementById("textScannerStatus");
		const searchBar			= document.getElementById("searchBar");
		let ScannerOn = true;
		const updateScannerStatus = () => {
			if(ScannerOn){
				textScannerStatus.innerHTML = "Camera <B><font color='green'>ON</font></B>/OFF";
				discScanner.startScan();
				displayCanvas.showCanvas();
				rightTitle.innerHTML = "Visible";
				leftTitle.innerHTML  = "All";

			}else{
				textScannerStatus.innerHTML = "Camera ON/<B><font color='red'>OFF</font></B>";
				discScanner.stopScan();
				displayCanvas.hideCanvas();
				rightTitle.innerHTML = "All";
				leftTitle.innerHTML  = "";
			}
		}
		const switchScanner = (input) => {
			if(input==undefined){
				ScannerOn = !ScannerOn;
			}else{
				ScannerOn = input;
			}
			updateScannerStatus();
		}
		updateScannerStatus();


		const recordMode = true;
		let canvas = document.getElementById('Canvas');
		let rcanvas= document.getElementById('RCanvas');
		let slider = document.getElementById('slider');
		let video  = document.getElementById("player");
		let leftA  = document.getElementById("leftArrow");
		let rightA = document.getElementById("rightArrow");
		let file   = document.getElementById("folder");

		const phase = new Phase("Input Sudoku Manually");
		let scanner = false;
		let animationStartTime;
		const startScan = () => {
			phase.changePhase("Scanning Board");
			draw();
			slider.value=0;
			slider.style.display = "none";
			sudoku.reset(0);
			scanner = new Scanner();
		}
		const uploadImage = () => {
			phase.changePhase("Uploading Image");
			draw();
			slider.value=0;
			slider.style.display = "none";
			sudoku.reset(0);
            file.click();
		}

		const sudoku = new Sudoku();
		initCanvas();
		initEventlistener();
		const preLoad=()=>{
			sudoku.userInput(0,1,8);
			sudoku.userInput(0,3,4);
			sudoku.userInput(1,2,7);
			sudoku.userInput(1,4,1);
			sudoku.userInput(1,6,6);
			sudoku.userInput(2,0,5);
			sudoku.userInput(2,5,3);
			sudoku.userInput(2,7,4);
			sudoku.userInput(3,0,3);
			sudoku.userInput(3,5,2);
			sudoku.userInput(3,6,5);
			sudoku.userInput(4,2,1);
			sudoku.userInput(4,4,7);
			sudoku.userInput(5,3,5);
			sudoku.userInput(5,8,9);
			sudoku.userInput(6,2,5);
			sudoku.userInput(6,3,3);
			sudoku.userInput(6,8,7);
			sudoku.userInput(7,1,2);
			sudoku.userInput(7,5,8);
			sudoku.userInput(7,7,3);
			sudoku.userInput(8,4,6);
			sudoku.userInput(8,6,9);
			sudoku.checkSolvability();
		}
		//preLoad();
		//sudoku.checkSolvability();
	//--> 
	</script>

</body>


</html>
